{"version":3,"file":"component---src-pages-threejs-sandbox-tsx-d841a191afcb74affef4.js","mappings":"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","sources":["webpack://dreamworld/./src/components/AboutMe.tsx","webpack://dreamworld/./src/components/Blog.tsx","webpack://dreamworld/./src/components/Contact.tsx","webpack://dreamworld/./node_modules/@react-three/drei/core/Edges.js","webpack://dreamworld/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://dreamworld/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://dreamworld/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://dreamworld/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://dreamworld/./node_modules/three-stdlib/controls/OrbitControls.js","webpack://dreamworld/./node_modules/@react-three/drei/core/OrbitControls.js","webpack://dreamworld/./node_modules/@react-three/drei/core/OrthographicCamera.js","webpack://dreamworld/./node_modules/@react-three/drei/core/useFBO.js","webpack://dreamworld/./node_modules/@react-three/drei/core/Sparkles.js","webpack://dreamworld/./node_modules/@react-three/drei/core/shaderMaterial.js","webpack://dreamworld/./node_modules/@react-three/drei/core/Billboard.js","webpack://dreamworld/./node_modules/@react-three/drei/core/shapes.js","webpack://dreamworld/./node_modules/@react-three/drei/core/useTexture.js","webpack://dreamworld/./node_modules/@react-three/drei/core/Cloud.js","webpack://dreamworld/./node_modules/three-stdlib/shaders/CopyShader.js","webpack://dreamworld/./node_modules/three-stdlib/postprocessing/Pass.js","webpack://dreamworld/./node_modules/three-stdlib/postprocessing/ShaderPass.js","webpack://dreamworld/./node_modules/three-stdlib/postprocessing/MaskPass.js","webpack://dreamworld/./node_modules/three-stdlib/postprocessing/EffectComposer.js","webpack://dreamworld/./node_modules/three-stdlib/postprocessing/RenderPass.js","webpack://dreamworld/./node_modules/three-stdlib/shaders/GammaCorrectionShader.js","webpack://dreamworld/./node_modules/@react-three/drei/core/Effects.js","webpack://dreamworld/./src/images/gatsby-icon.png","webpack://dreamworld/./node_modules/three-stdlib/shaders/LuminosityHighPassShader.js","webpack://dreamworld/./node_modules/three-stdlib/postprocessing/UnrealBloomPass.js","webpack://dreamworld/./src/components/ThreeAnimation.tsx","webpack://dreamworld/./src/pages/threejs_sandbox.tsx"],"sourcesContent":["import React from \"react\"\r\n\r\nconst AboutMe = () => {\r\n    return (\r\n        <div>\r\n            <div className=\"content-title\">\r\n                <h1> About Me </h1>\r\n            </div>\r\n            <div className=\"scroll\">\r\n                {/* <h1>About Me</h1> */}\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AboutMe","import React from \"react\"\r\n\r\nconst Blog = () => {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"content-title\">\r\n                <h1> My Blog </h1>\r\n            </div>\r\n            <div className=\"scroll\">\r\n                {/* <h1> My Blog </h1> */}\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Blog","import React from \"react\"\r\n\r\nconst Contact = () => {\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"content-title\">\r\n                <h1> Contact Me </h1>\r\n            </div>\r\n            <div className=\"scroll\">\r\n                {/* <h1>Contact Me</h1> */}\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n\r\n                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Contact","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\n\nfunction Edges({\n  userData,\n  children,\n  geometry,\n  threshold = 15,\n  color = 'black',\n  ...props\n}) {\n  const ref = React.useRef(null);\n  React.useLayoutEffect(() => {\n    const parent = ref.current.parent;\n\n    if (parent) {\n      const geom = geometry || parent.geometry;\n\n      if (geom !== ref.current.userData.currentGeom || threshold !== ref.current.userData.currentThreshold) {\n        ref.current.userData.currentGeom = geom;\n        ref.current.userData.currentThreshold = threshold;\n        ref.current.geometry = new THREE.EdgesGeometry(geom, threshold);\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"lineSegments\", _extends({\n    ref: ref,\n    raycast: () => null\n  }, props), children ? children : /*#__PURE__*/React.createElement(\"lineBasicMaterial\", {\n    color: color\n  }));\n}\n\nexport { Edges };\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { EventDispatcher, Vector3, MOUSE, TOUCH, PerspectiveCamera, Quaternion, Spherical, Vector2, OrthographicCamera } from 'three';\n\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst moduloWrapAround = (offset, capacity) => (offset % capacity + capacity) % capacity;\n\nclass OrbitControls extends EventDispatcher {\n  // Set to false to disable this control\n  // \"target\" sets the location of focus, where the object orbits around\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  // How far you can zoom in and out ( OrthographicCamera only )\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  // radians\n  // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n  // radians\n  // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  // Set to false to disable rotating\n  // Set to false to disable panning\n  // if false, pan orthogonal to world-space direction camera.up\n  // pixels moved per arrow key push\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  // 30 seconds per orbit when fps is 60\n  // true if you want to reverse the orbit to mouse drag from left to right = orbits left\n  // The four arrow keys\n  // Mouse buttons\n  // Touch fingers\n  // the target DOM element for key events\n  constructor(object, domElement) {\n    super();\n\n    _defineProperty(this, \"object\", void 0);\n\n    _defineProperty(this, \"domElement\", void 0);\n\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"target\", new Vector3());\n\n    _defineProperty(this, \"minDistance\", 0);\n\n    _defineProperty(this, \"maxDistance\", Infinity);\n\n    _defineProperty(this, \"minZoom\", 0);\n\n    _defineProperty(this, \"maxZoom\", Infinity);\n\n    _defineProperty(this, \"minPolarAngle\", 0);\n\n    _defineProperty(this, \"maxPolarAngle\", Math.PI);\n\n    _defineProperty(this, \"minAzimuthAngle\", -Infinity);\n\n    _defineProperty(this, \"maxAzimuthAngle\", Infinity);\n\n    _defineProperty(this, \"enableDamping\", false);\n\n    _defineProperty(this, \"dampingFactor\", 0.05);\n\n    _defineProperty(this, \"enableZoom\", true);\n\n    _defineProperty(this, \"zoomSpeed\", 1.0);\n\n    _defineProperty(this, \"enableRotate\", true);\n\n    _defineProperty(this, \"rotateSpeed\", 1.0);\n\n    _defineProperty(this, \"enablePan\", true);\n\n    _defineProperty(this, \"panSpeed\", 1.0);\n\n    _defineProperty(this, \"screenSpacePanning\", true);\n\n    _defineProperty(this, \"keyPanSpeed\", 7.0);\n\n    _defineProperty(this, \"autoRotate\", false);\n\n    _defineProperty(this, \"autoRotateSpeed\", 2.0);\n\n    _defineProperty(this, \"reverseOrbit\", false);\n\n    _defineProperty(this, \"keys\", {\n      LEFT: 'ArrowLeft',\n      UP: 'ArrowUp',\n      RIGHT: 'ArrowRight',\n      BOTTOM: 'ArrowDown'\n    });\n\n    _defineProperty(this, \"mouseButtons\", {\n      LEFT: MOUSE.ROTATE,\n      MIDDLE: MOUSE.DOLLY,\n      RIGHT: MOUSE.PAN\n    });\n\n    _defineProperty(this, \"touches\", {\n      ONE: TOUCH.ROTATE,\n      TWO: TOUCH.DOLLY_PAN\n    });\n\n    _defineProperty(this, \"target0\", void 0);\n\n    _defineProperty(this, \"position0\", void 0);\n\n    _defineProperty(this, \"zoom0\", void 0);\n\n    _defineProperty(this, \"_domElementKeyEvents\", null);\n\n    _defineProperty(this, \"getPolarAngle\", void 0);\n\n    _defineProperty(this, \"getAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"setPolarAngle\", void 0);\n\n    _defineProperty(this, \"setAzimuthalAngle\", void 0);\n\n    _defineProperty(this, \"getDistance\", void 0);\n\n    _defineProperty(this, \"listenToKeyEvents\", void 0);\n\n    _defineProperty(this, \"saveState\", void 0);\n\n    _defineProperty(this, \"reset\", void 0);\n\n    _defineProperty(this, \"update\", void 0);\n\n    _defineProperty(this, \"connect\", void 0);\n\n    _defineProperty(this, \"dispose\", void 0);\n\n    this.object = object;\n    this.domElement = domElement; // for reset\n\n    this.target0 = this.target.clone();\n    this.position0 = this.object.position.clone();\n    this.zoom0 = this.object instanceof PerspectiveCamera ? this.object.zoom : 1; //\n    // public methods\n    //\n\n    this.getPolarAngle = () => spherical.phi;\n\n    this.getAzimuthalAngle = () => spherical.theta;\n\n    this.setPolarAngle = value => {\n      // use modulo wrapping to safeguard value\n      let phi = moduloWrapAround(value, 2 * Math.PI);\n      let currentPhi = spherical.phi; // convert to the equivalent shortest angle\n\n      if (currentPhi < 0) currentPhi += 2 * Math.PI;\n      if (phi < 0) phi += 2 * Math.PI;\n      let phiDist = Math.abs(phi - currentPhi);\n\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI;\n        } else {\n          currentPhi += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.phi = phi - currentPhi;\n      scope.update();\n    };\n\n    this.setAzimuthalAngle = value => {\n      // use modulo wrapping to safeguard value\n      let theta = moduloWrapAround(value, 2 * Math.PI);\n      let currentTheta = spherical.theta; // convert to the equivalent shortest angle\n\n      if (currentTheta < 0) currentTheta += 2 * Math.PI;\n      if (theta < 0) theta += 2 * Math.PI;\n      let thetaDist = Math.abs(theta - currentTheta);\n\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI;\n        } else {\n          currentTheta += 2 * Math.PI;\n        }\n      }\n\n      sphericalDelta.theta = theta - currentTheta;\n      scope.update();\n    };\n\n    this.getDistance = () => scope.object.position.distanceTo(scope.target);\n\n    this.listenToKeyEvents = domElement => {\n      domElement.addEventListener('keydown', onKeyDown);\n      this._domElementKeyEvents = domElement;\n    };\n\n    this.saveState = () => {\n      scope.target0.copy(scope.target);\n      scope.position0.copy(scope.object.position);\n      scope.zoom0 = scope.object instanceof PerspectiveCamera ? scope.object.zoom : 1;\n    };\n\n    this.reset = () => {\n      scope.target.copy(scope.target0);\n      scope.object.position.copy(scope.position0);\n\n      if (scope.object instanceof PerspectiveCamera) {\n        scope.object.zoom = scope.zoom0;\n        scope.object.updateProjectionMatrix();\n      }\n\n      scope.dispatchEvent(changeEvent);\n      scope.update();\n      state = STATE.NONE;\n    }; // this method is exposed, but perhaps it would be better if we can make it private...\n\n\n    this.update = (() => {\n      const offset = new Vector3(); // so camera.up is the orbit axis\n\n      const quat = new Quaternion().setFromUnitVectors(object.up, new Vector3(0, 1, 0));\n      const quatInverse = quat.clone().invert();\n      const lastPosition = new Vector3();\n      const lastQuaternion = new Quaternion();\n      const twoPI = 2 * Math.PI;\n      return function update() {\n        const position = scope.object.position;\n        offset.copy(position).sub(scope.target); // rotate offset to \"y-axis-is-up\" space\n\n        offset.applyQuaternion(quat); // angle from z-axis around y-axis\n\n        spherical.setFromVector3(offset);\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle());\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor;\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor;\n        } else {\n          spherical.theta += sphericalDelta.theta;\n          spherical.phi += sphericalDelta.phi;\n        } // restrict theta to be between desired limits\n\n\n        let min = scope.minAzimuthAngle;\n        let max = scope.maxAzimuthAngle;\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI;else if (min > Math.PI) min -= twoPI;\n          if (max < -Math.PI) max += twoPI;else if (max > Math.PI) max -= twoPI;\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta));\n          } else {\n            spherical.theta = spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta);\n          }\n        } // restrict phi to be between desired limits\n\n\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n        spherical.makeSafe();\n        spherical.radius *= scale; // restrict radius to be between desired limits\n\n        spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius)); // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor);\n        } else {\n          scope.target.add(panOffset);\n        }\n\n        offset.setFromSpherical(spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n        offset.applyQuaternion(quatInverse);\n        position.copy(scope.target).add(offset);\n        scope.object.lookAt(scope.target);\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor;\n          sphericalDelta.phi *= 1 - scope.dampingFactor;\n          panOffset.multiplyScalar(1 - scope.dampingFactor);\n        } else {\n          sphericalDelta.set(0, 0, 0);\n          panOffset.set(0, 0, 0);\n        }\n\n        scale = 1; // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (zoomChanged || lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n          scope.dispatchEvent(changeEvent);\n          lastPosition.copy(scope.object.position);\n          lastQuaternion.copy(scope.object.quaternion);\n          zoomChanged = false;\n          return true;\n        }\n\n        return false;\n      };\n    })(); // https://github.com/mrdoob/three.js/issues/20575\n\n\n    this.connect = domElement => {\n      if (domElement === document) {\n        console.error('THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n      }\n\n      scope.domElement = domElement; // disables touch scroll\n      // touch-action needs to be defined for pointer events to work on mobile\n      // https://stackoverflow.com/a/48254578\n\n      scope.domElement.style.touchAction = 'none';\n      scope.domElement.addEventListener('contextmenu', onContextMenu);\n      scope.domElement.addEventListener('pointerdown', onPointerDown);\n      scope.domElement.addEventListener('pointercancel', onPointerCancel);\n      scope.domElement.addEventListener('wheel', onMouseWheel);\n    };\n\n    this.dispose = () => {\n      var _scope$domElement, _scope$domElement2, _scope$domElement3, _scope$domElement4, _scope$domElement5, _scope$domElement6;\n\n      (_scope$domElement = scope.domElement) === null || _scope$domElement === void 0 ? void 0 : _scope$domElement.removeEventListener('contextmenu', onContextMenu);\n      (_scope$domElement2 = scope.domElement) === null || _scope$domElement2 === void 0 ? void 0 : _scope$domElement2.removeEventListener('pointerdown', onPointerDown);\n      (_scope$domElement3 = scope.domElement) === null || _scope$domElement3 === void 0 ? void 0 : _scope$domElement3.removeEventListener('pointercancel', onPointerCancel);\n      (_scope$domElement4 = scope.domElement) === null || _scope$domElement4 === void 0 ? void 0 : _scope$domElement4.removeEventListener('wheel', onMouseWheel);\n      (_scope$domElement5 = scope.domElement) === null || _scope$domElement5 === void 0 ? void 0 : _scope$domElement5.ownerDocument.removeEventListener('pointermove', onPointerMove);\n      (_scope$domElement6 = scope.domElement) === null || _scope$domElement6 === void 0 ? void 0 : _scope$domElement6.ownerDocument.removeEventListener('pointerup', onPointerUp);\n\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown);\n      } //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n    }; //\n    // internals\n    //\n\n\n    const scope = this;\n    const changeEvent = {\n      type: 'change'\n    };\n    const startEvent = {\n      type: 'start'\n    };\n    const endEvent = {\n      type: 'end'\n    };\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6\n    };\n    let state = STATE.NONE;\n    const EPS = 0.000001; // current position in spherical coordinates\n\n    const spherical = new Spherical();\n    const sphericalDelta = new Spherical();\n    let scale = 1;\n    const panOffset = new Vector3();\n    let zoomChanged = false;\n    const rotateStart = new Vector2();\n    const rotateEnd = new Vector2();\n    const rotateDelta = new Vector2();\n    const panStart = new Vector2();\n    const panEnd = new Vector2();\n    const panDelta = new Vector2();\n    const dollyStart = new Vector2();\n    const dollyEnd = new Vector2();\n    const dollyDelta = new Vector2();\n    const pointers = [];\n    const pointerPositions = {};\n\n    function getAutoRotationAngle() {\n      return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n    }\n\n    function getZoomScale() {\n      return Math.pow(0.95, scope.zoomSpeed);\n    }\n\n    function rotateLeft(angle) {\n      if (scope.reverseOrbit) {\n        sphericalDelta.theta += angle;\n      } else {\n        sphericalDelta.theta -= angle;\n      }\n    }\n\n    function rotateUp(angle) {\n      if (scope.reverseOrbit) {\n        sphericalDelta.phi += angle;\n      } else {\n        sphericalDelta.phi -= angle;\n      }\n    }\n\n    const panLeft = (() => {\n      const v = new Vector3();\n      return function panLeft(distance, objectMatrix) {\n        v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n        v.multiplyScalar(-distance);\n        panOffset.add(v);\n      };\n    })();\n\n    const panUp = (() => {\n      const v = new Vector3();\n      return function panUp(distance, objectMatrix) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1);\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0);\n          v.crossVectors(scope.object.up, v);\n        }\n\n        v.multiplyScalar(distance);\n        panOffset.add(v);\n      };\n    })(); // deltaX and deltaY are in pixels; right and down are positive\n\n\n    const pan = (() => {\n      const offset = new Vector3();\n      return function pan(deltaX, deltaY) {\n        const element = scope.domElement;\n\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          // perspective\n          const position = scope.object.position;\n          offset.copy(position).sub(scope.target);\n          let targetDistance = offset.length(); // half of the fov is center to top of screen\n\n          targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0); // we use only clientHeight here so aspect ratio does not distort speed\n\n          panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n          panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(deltaX * (scope.object.right - scope.object.left) / scope.object.zoom / element.clientWidth, scope.object.matrix);\n          panUp(deltaY * (scope.object.top - scope.object.bottom) / scope.object.zoom / element.clientHeight, scope.object.matrix);\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n          scope.enablePan = false;\n        }\n      };\n    })();\n\n    function dollyOut(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale /= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom * dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    }\n\n    function dollyIn(dollyScale) {\n      if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n        scale *= dollyScale;\n      } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n        scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / dollyScale));\n        scope.object.updateProjectionMatrix();\n        zoomChanged = true;\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n        scope.enableZoom = false;\n      }\n    } //\n    // event callbacks - update the object state\n    //\n\n\n    function handleMouseDownRotate(event) {\n      rotateStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownDolly(event) {\n      dollyStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseDownPan(event) {\n      panStart.set(event.clientX, event.clientY);\n    }\n\n    function handleMouseMoveRotate(event) {\n      rotateEnd.set(event.clientX, event.clientY);\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n      scope.update();\n    }\n\n    function handleMouseMoveDolly(event) {\n      dollyEnd.set(event.clientX, event.clientY);\n      dollyDelta.subVectors(dollyEnd, dollyStart);\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale());\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale());\n      }\n\n      dollyStart.copy(dollyEnd);\n      scope.update();\n    }\n\n    function handleMouseMovePan(event) {\n      panEnd.set(event.clientX, event.clientY);\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n      scope.update();\n    }\n\n    function handleMouseWheel(event) {\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale());\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale());\n      }\n\n      scope.update();\n    }\n\n    function handleKeyDown(event) {\n      let needsUpdate = false;\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0);\n          needsUpdate = true;\n          break;\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault();\n        scope.update();\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        rotateStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY);\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX);\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY);\n        panStart.set(x, y);\n      }\n    }\n\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX;\n      const dy = pointers[0].pageY - pointers[1].pageY;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyStart.set(0, distance);\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enablePan) handleTouchStartPan();\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly();\n      if (scope.enableRotate) handleTouchStartRotate();\n    }\n\n    function handleTouchMoveRotate(event) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        rotateEnd.set(x, y);\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed);\n      const element = scope.domElement;\n\n      if (element) {\n        rotateLeft(2 * Math.PI * rotateDelta.x / element.clientHeight); // yes, height\n\n        rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight);\n      }\n\n      rotateStart.copy(rotateEnd);\n    }\n\n    function handleTouchMovePan(event) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY);\n      } else {\n        const position = getSecondPointerPosition(event);\n        const x = 0.5 * (event.pageX + position.x);\n        const y = 0.5 * (event.pageY + position.y);\n        panEnd.set(x, y);\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed);\n      pan(panDelta.x, panDelta.y);\n      panStart.copy(panEnd);\n    }\n\n    function handleTouchMoveDolly(event) {\n      const position = getSecondPointerPosition(event);\n      const dx = event.pageX - position.x;\n      const dy = event.pageY - position.y;\n      const distance = Math.sqrt(dx * dx + dy * dy);\n      dollyEnd.set(0, distance);\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed));\n      dollyOut(dollyDelta.y);\n      dollyStart.copy(dollyEnd);\n    }\n\n    function handleTouchMoveDollyPan(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enablePan) handleTouchMovePan(event);\n    }\n\n    function handleTouchMoveDollyRotate(event) {\n      if (scope.enableZoom) handleTouchMoveDolly(event);\n      if (scope.enableRotate) handleTouchMoveRotate(event);\n    } //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n\n    function onPointerDown(event) {\n      if (scope.enabled === false) return;\n\n      if (pointers.length === 0) {\n        var _scope$domElement7, _scope$domElement8;\n\n        (_scope$domElement7 = scope.domElement) === null || _scope$domElement7 === void 0 ? void 0 : _scope$domElement7.ownerDocument.addEventListener('pointermove', onPointerMove);\n        (_scope$domElement8 = scope.domElement) === null || _scope$domElement8 === void 0 ? void 0 : _scope$domElement8.ownerDocument.addEventListener('pointerup', onPointerUp);\n      }\n\n      addPointer(event);\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event);\n      } else {\n        onMouseDown(event);\n      }\n    }\n\n    function onPointerMove(event) {\n      if (scope.enabled === false) return;\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event);\n      } else {\n        onMouseMove(event);\n      }\n    }\n\n    function onPointerUp(event) {\n      removePointer(event);\n\n      if (pointers.length === 0) {\n        var _scope$domElement9, _scope$domElement10, _scope$domElement11;\n\n        (_scope$domElement9 = scope.domElement) === null || _scope$domElement9 === void 0 ? void 0 : _scope$domElement9.releasePointerCapture(event.pointerId);\n        (_scope$domElement10 = scope.domElement) === null || _scope$domElement10 === void 0 ? void 0 : _scope$domElement10.ownerDocument.removeEventListener('pointermove', onPointerMove);\n        (_scope$domElement11 = scope.domElement) === null || _scope$domElement11 === void 0 ? void 0 : _scope$domElement11.ownerDocument.removeEventListener('pointerup', onPointerUp);\n      }\n\n      scope.dispatchEvent(endEvent);\n      state = STATE.NONE;\n    }\n\n    function onPointerCancel(event) {\n      removePointer(event);\n    }\n\n    function onMouseDown(event) {\n      let mouseAction;\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT;\n          break;\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE;\n          break;\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT;\n          break;\n\n        default:\n          mouseAction = -1;\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseDownDolly(event);\n          state = STATE.DOLLY;\n          break;\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          } else {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          }\n\n          break;\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return;\n            handleMouseDownRotate(event);\n            state = STATE.ROTATE;\n          } else {\n            if (scope.enablePan === false) return;\n            handleMouseDownPan(event);\n            state = STATE.PAN;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onMouseMove(event) {\n      if (scope.enabled === false) return;\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return;\n          handleMouseMoveRotate(event);\n          break;\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return;\n          handleMouseMoveDolly(event);\n          break;\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return;\n          handleMouseMovePan(event);\n          break;\n      }\n    }\n\n    function onMouseWheel(event) {\n      if (scope.enabled === false || scope.enableZoom === false || state !== STATE.NONE && state !== STATE.ROTATE) {\n        return;\n      }\n\n      event.preventDefault();\n      scope.dispatchEvent(startEvent);\n      handleMouseWheel(event);\n      scope.dispatchEvent(endEvent);\n    }\n\n    function onKeyDown(event) {\n      if (scope.enabled === false || scope.enablePan === false) return;\n      handleKeyDown(event);\n    }\n\n    function onTouchStart(event) {\n      trackPointer(event);\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return;\n              handleTouchStartRotate();\n              state = STATE.TOUCH_ROTATE;\n              break;\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return;\n              handleTouchStartPan();\n              state = STATE.TOUCH_PAN;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return;\n              handleTouchStartDollyPan();\n              state = STATE.TOUCH_DOLLY_PAN;\n              break;\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return;\n              handleTouchStartDollyRotate();\n              state = STATE.TOUCH_DOLLY_ROTATE;\n              break;\n\n            default:\n              state = STATE.NONE;\n          }\n\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n\n      if (state !== STATE.NONE) {\n        scope.dispatchEvent(startEvent);\n      }\n    }\n\n    function onTouchMove(event) {\n      trackPointer(event);\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return;\n          handleTouchMoveRotate(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return;\n          handleTouchMovePan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return;\n          handleTouchMoveDollyPan(event);\n          scope.update();\n          break;\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return;\n          handleTouchMoveDollyRotate(event);\n          scope.update();\n          break;\n\n        default:\n          state = STATE.NONE;\n      }\n    }\n\n    function onContextMenu(event) {\n      if (scope.enabled === false) return;\n      event.preventDefault();\n    }\n\n    function addPointer(event) {\n      pointers.push(event);\n    }\n\n    function removePointer(event) {\n      delete pointerPositions[event.pointerId];\n\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1);\n          return;\n        }\n      }\n    }\n\n    function trackPointer(event) {\n      let position = pointerPositions[event.pointerId];\n\n      if (position === undefined) {\n        position = new Vector2();\n        pointerPositions[event.pointerId] = position;\n      }\n\n      position.set(event.pageX, event.pageY);\n    }\n\n    function getSecondPointerPosition(event) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0];\n      return pointerPositions[pointer.pointerId];\n    } // connect events\n\n\n    if (domElement !== undefined) this.connect(domElement); // force an update at start\n\n    this.update();\n  }\n\n} // This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\n\nclass MapControls extends OrbitControls {\n  constructor(object, domElement) {\n    super(object, domElement);\n    this.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n    this.mouseButtons.LEFT = MOUSE.PAN;\n    this.mouseButtons.RIGHT = MOUSE.ROTATE;\n    this.touches.ONE = TOUCH.PAN;\n    this.touches.TWO = TOUCH.DOLLY_ROTATE;\n  }\n\n}\n\nexport { MapControls, OrbitControls };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport * as React from 'react';\nimport { OrbitControls as OrbitControls$1 } from 'three-stdlib';\n\nconst OrbitControls = /*#__PURE__*/React.forwardRef(({\n  makeDefault,\n  camera,\n  regress,\n  domElement,\n  enableDamping = true,\n  onChange,\n  onStart,\n  onEnd,\n  ...restProps\n}, ref) => {\n  const invalidate = useThree(state => state.invalidate);\n  const defaultCamera = useThree(state => state.camera);\n  const gl = useThree(state => state.gl);\n  const events = useThree(state => state.events);\n  const setEvents = useThree(state => state.setEvents);\n  const set = useThree(state => state.set);\n  const get = useThree(state => state.get);\n  const performance = useThree(state => state.performance);\n  const explCamera = camera || defaultCamera;\n  const explDomElement = domElement || events.connected || gl.domElement;\n  const controls = React.useMemo(() => new OrbitControls$1(explCamera), [explCamera]);\n  useFrame(() => {\n    if (controls.enabled) controls.update();\n  }, -1);\n  React.useEffect(() => {\n    controls.connect(explDomElement);\n    return () => void controls.dispose();\n  }, [explDomElement, regress, controls, invalidate]);\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (regress) performance.regress();\n      if (onChange) onChange(e);\n    };\n\n    const onStartCb = e => {\n      if (onStart) onStart(e);\n    };\n\n    const onEndCb = e => {\n      if (onEnd) onEnd(e);\n    };\n\n    controls.addEventListener('change', callback);\n    controls.addEventListener('start', onStartCb);\n    controls.addEventListener('end', onEndCb);\n    return () => {\n      controls.removeEventListener('start', onStartCb);\n      controls.removeEventListener('end', onEndCb);\n      controls.removeEventListener('change', callback);\n    };\n  }, [onChange, onStart, onEnd, controls, invalidate, setEvents]);\n  React.useEffect(() => {\n    if (makeDefault) {\n      const old = get().controls;\n      set({\n        controls\n      });\n      return () => set({\n        controls: old\n      });\n    }\n  }, [makeDefault, controls]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    object: controls,\n    enableDamping: enableDamping\n  }, restProps));\n});\n\nexport { OrbitControls };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { useFBO } from './useFBO.js';\n\nconst isFunction = node => typeof node === 'function';\n\nconst OrthographicCamera = /*#__PURE__*/React.forwardRef(({\n  envMap,\n  resolution = 256,\n  frames = Infinity,\n  children,\n  makeDefault,\n  ...props\n}, ref) => {\n  const set = useThree(({\n    set\n  }) => set);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const size = useThree(({\n    size\n  }) => size);\n  const cameraRef = React.useRef(null);\n  const groupRef = React.useRef(null);\n  const fbo = useFBO(resolution);\n  React.useLayoutEffect(() => {\n    if (!props.manual) {\n      cameraRef.current.updateProjectionMatrix();\n    }\n  }, [size, props]);\n  React.useLayoutEffect(() => {\n    cameraRef.current.updateProjectionMatrix();\n  });\n  React.useLayoutEffect(() => {\n    if (makeDefault) {\n      const oldCam = camera;\n      set(() => ({\n        camera: cameraRef.current\n      }));\n      return () => set(() => ({\n        camera: oldCam\n      }));\n    } // The camera should not be part of the dependency list because this components camera is a stable reference\n    // that must exchange the default, and clean up after itself on unmount.\n\n  }, [cameraRef, makeDefault, set]);\n  let count = 0;\n  let oldEnvMap = null;\n  const functional = isFunction(children);\n  useFrame(state => {\n    if (functional && (frames === Infinity || count < frames)) {\n      groupRef.current.visible = false;\n      state.gl.setRenderTarget(fbo);\n      oldEnvMap = state.scene.background;\n      if (envMap) state.scene.background = envMap;\n      state.gl.render(state.scene, cameraRef.current);\n      state.scene.background = oldEnvMap;\n      state.gl.setRenderTarget(null);\n      groupRef.current.visible = true;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"orthographicCamera\", _extends({\n    left: size.width / -2,\n    right: size.width / 2,\n    top: size.height / 2,\n    bottom: size.height / -2,\n    ref: mergeRefs([cameraRef, ref])\n  }, props), !functional && children), /*#__PURE__*/React.createElement(\"group\", {\n    ref: groupRef\n  }, functional && children(fbo.texture)));\n});\n\nexport { OrthographicCamera };\n","import * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree } from '@react-three/fiber';\n\n// 👇 uncomment when TS version supports function overloads\n// export function useFBO(settings?: FBOSettings)\nfunction useFBO(\n/** Width in pixels, or settings (will render fullscreen by default) */\nwidth,\n/** Height in pixels */\nheight,\n/**Settings */\nsettings) {\n  const {\n    gl,\n    size,\n    viewport\n  } = useThree();\n\n  const _width = typeof width === 'number' ? width : size.width * viewport.dpr;\n\n  const _height = typeof height === 'number' ? height : size.height * viewport.dpr;\n\n  const _settings = (typeof width === 'number' ? settings : width) || {};\n\n  const {\n    samples = 0,\n    depth,\n    ...targetSettings\n  } = _settings;\n  const target = React.useMemo(() => {\n    let target;\n    target = new THREE.WebGLRenderTarget(_width, _height, {\n      minFilter: THREE.LinearFilter,\n      magFilter: THREE.LinearFilter,\n      encoding: gl.outputEncoding,\n      type: THREE.HalfFloatType,\n      ...targetSettings\n    });\n\n    if (depth) {\n      target.depthTexture = new THREE.DepthTexture(_width, _height, THREE.FloatType);\n    }\n\n    target.samples = samples;\n    return target;\n  }, []);\n  React.useLayoutEffect(() => {\n    target.setSize(_width, _height);\n    if (samples) target.samples = samples;\n  }, [samples, target, _width, _height]);\n  React.useEffect(() => {\n    return () => target.dispose();\n  }, []);\n  return target;\n}\n\nexport { useFBO };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { shaderMaterial } from './shaderMaterial.js';\n\nconst SparklesImplMaterial = shaderMaterial({\n  time: 0,\n  pixelRatio: 1\n}, ` uniform float pixelRatio;\n    uniform float time;\n    attribute float size;  \n    attribute float speed;  \n    attribute float opacity;\n    attribute vec3 noise;\n    attribute vec3 color;\n    varying vec3 vColor;\n    varying float vOpacity;\n    void main() {\n      vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;\n      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;\n      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;\n      vec4 viewPosition = viewMatrix * modelPosition;\n      vec4 projectionPostion = projectionMatrix * viewPosition;\n      gl_Position = projectionPostion;\n      gl_PointSize = size * 25. * pixelRatio;\n      gl_PointSize *= (1.0 / - viewPosition.z);\n      vColor = color;\n      vOpacity = opacity;\n    }`, ` varying vec3 vColor;\n    varying float vOpacity;\n    void main() {\n      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));\n      float strength = 0.05 / distanceToCenter - 0.1;\n      gl_FragColor = vec4(vColor, strength * vOpacity);\n      #include <tonemapping_fragment>\n      #include <encodings_fragment>\n    }`);\n\nconst isFloat32Array = def => def && def.constructor === Float32Array;\n\nconst expandColor = v => [v.r, v.g, v.b];\n\nconst isVector = v => v instanceof THREE.Vector2 || v instanceof THREE.Vector3 || v instanceof THREE.Vector4;\n\nconst normalizeVector = v => {\n  if (Array.isArray(v)) return v;else if (isVector(v)) return v.toArray();\n  return [v, v, v];\n};\n\nfunction usePropAsIsOrAsAttribute(count, prop, setDefault) {\n  return React.useMemo(() => {\n    if (prop !== undefined) {\n      if (isFloat32Array(prop)) {\n        return prop;\n      } else {\n        if (prop instanceof THREE.Color) {\n          const a = Array.from({\n            length: count * 3\n          }, () => expandColor(prop)).flat();\n          return Float32Array.from(a);\n        } else if (isVector(prop) || Array.isArray(prop)) {\n          const a = Array.from({\n            length: count * 3\n          }, () => normalizeVector(prop)).flat();\n          return Float32Array.from(a);\n        }\n\n        return Float32Array.from({\n          length: count\n        }, () => prop);\n      }\n    }\n\n    return Float32Array.from({\n      length: count\n    }, setDefault);\n  }, [prop]);\n}\n\nconst Sparkles = /*#__PURE__*/React.forwardRef(({\n  noise = 1,\n  count = 100,\n  speed = 1,\n  opacity = 1,\n  scale = 1,\n  size,\n  color,\n  children,\n  ...props\n}, forwardRef) => {\n  React.useMemo(() => extend({\n    SparklesImplMaterial\n  }), []);\n  const ref = React.useRef(null);\n  const dpr = useThree(state => state.viewport.dpr);\n  const positions = React.useMemo(() => Float32Array.from(Array.from({\n    length: count\n  }, () => normalizeVector(scale).map(THREE.MathUtils.randFloatSpread)).flat()), [count, scale]);\n  const sizes = usePropAsIsOrAsAttribute(count, size, Math.random);\n  const opacities = usePropAsIsOrAsAttribute(count, opacity);\n  const speeds = usePropAsIsOrAsAttribute(count, speed);\n  const noises = usePropAsIsOrAsAttribute(count * 3, noise);\n  const colors = usePropAsIsOrAsAttribute(color === undefined ? count * 3 : count, !isFloat32Array(color) ? new THREE.Color(color) : color, () => 1);\n  useFrame(state => {\n    if (ref.current && ref.current.material) ref.current.material.time = state.clock.elapsedTime;\n  });\n  React.useImperativeHandle(forwardRef, () => ref.current, []);\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    key: `particle-${count}-${JSON.stringify(scale)}`\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-position\",\n    args: [positions, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-size\",\n    args: [sizes, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-opacity\",\n    args: [opacities, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-speed\",\n    args: [speeds, 1]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-color\",\n    args: [colors, 3]\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attach: \"attributes-noise\",\n    args: [noises, 3]\n  })), children ? children : /*#__PURE__*/React.createElement(\"sparklesImplMaterial\", {\n    transparent: true,\n    pixelRatio: dpr,\n    depthWrite: false\n  }));\n});\n\nexport { Sparkles };\n","import * as THREE from 'three';\n\nfunction shaderMaterial(uniforms, vertexShader, fragmentShader, onInit) {\n  const material = class material extends THREE.ShaderMaterial {\n    constructor(parameters = {}) {\n      const entries = Object.entries(uniforms); // Create unforms and shaders\n\n      super({\n        uniforms: entries.reduce((acc, [name, value]) => {\n          const uniform = THREE.UniformsUtils.clone({\n            [name]: {\n              value\n            }\n          });\n          return { ...acc,\n            ...uniform\n          };\n        }, {}),\n        vertexShader,\n        fragmentShader\n      }); // Create getter/setters\n\n      this.key = '';\n      entries.forEach(([name]) => Object.defineProperty(this, name, {\n        get: () => this.uniforms[name].value,\n        set: v => this.uniforms[name].value = v\n      })); // Assign parameters, this might include uniforms\n\n      Object.assign(this, parameters); // Call onInit\n\n      if (onInit) onInit(this);\n    }\n\n  };\n  material.key = THREE.MathUtils.generateUUID();\n  return material;\n}\n\nexport { shaderMaterial };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\n\n/**\n * Wraps children in a billboarded group. Sample usage:\n *\n * ```js\n * <Billboard>\n *   <Text>hi</Text>\n * </Billboard>\n * ```\n */\nconst Billboard = /*#__PURE__*/React.forwardRef(function Billboard({\n  follow = true,\n  lockX = false,\n  lockY = false,\n  lockZ = false,\n  ...props\n}, ref) {\n  const localRef = React.useRef();\n  useFrame(({\n    camera\n  }) => {\n    if (!follow || !localRef.current) return; // save previous rotation in case we're locking an axis\n\n    const prevRotation = localRef.current.rotation.clone(); // always face the camera\n\n    camera.getWorldQuaternion(localRef.current.quaternion); // readjust any axis that is locked\n\n    if (lockX) localRef.current.rotation.x = prevRotation.x;\n    if (lockY) localRef.current.rotation.y = prevRotation.y;\n    if (lockZ) localRef.current.rotation.z = prevRotation.z;\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: mergeRefs([localRef, ref])\n  }, props));\n});\n\nexport { Billboard };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\n\nfunction create(type) {\n  const El = type + 'Geometry';\n  return /*#__PURE__*/React.forwardRef(({\n    args,\n    children,\n    ...props\n  }, ref) => /*#__PURE__*/React.createElement(\"mesh\", _extends({\n    ref: ref\n  }, props), /*#__PURE__*/React.createElement(El, {\n    attach: \"geometry\",\n    args: args\n  }), children));\n}\n\nconst Box = create('box');\nconst Circle = create('circle');\nconst Cone = create('cone');\nconst Cylinder = create('cylinder');\nconst Sphere = create('sphere');\nconst Plane = create('plane');\nconst Tube = create('tube');\nconst Torus = create('torus');\nconst TorusKnot = create('torusKnot');\nconst Tetrahedron = create('tetrahedron');\nconst Ring = create('ring');\nconst Polyhedron = create('polyhedron');\nconst Icosahedron = create('icosahedron');\nconst Octahedron = create('octahedron');\nconst Dodecahedron = create('dodecahedron');\nconst Extrude = create('extrude');\nconst Lathe = create('lathe');\nconst Capsule = create('capsule');\n\nexport { Box, Capsule, Circle, Cone, Cylinder, Dodecahedron, Extrude, Icosahedron, Lathe, Octahedron, Plane, Polyhedron, Ring, Sphere, Tetrahedron, Torus, TorusKnot, Tube };\n","import { TextureLoader } from 'three';\nimport { useThree, useLoader } from '@react-three/fiber';\nimport { useLayoutEffect, useEffect } from 'react';\n\nconst IsObject = url => url === Object(url) && !Array.isArray(url) && typeof url !== 'function';\nfunction useTexture(input, onLoad) {\n  const gl = useThree(state => state.gl);\n  const textures = useLoader(TextureLoader, IsObject(input) ? Object.values(input) : input);\n  useLayoutEffect(() => {\n    onLoad == null ? void 0 : onLoad(textures);\n  }, [onLoad]); // https://github.com/mrdoob/three.js/issues/22696\n  // Upload the texture to the GPU immediately instead of waiting for the first render\n\n  useEffect(() => {\n    const array = Array.isArray(textures) ? textures : [textures];\n    array.forEach(gl.initTexture);\n  }, [gl, textures]);\n\n  if (IsObject(input)) {\n    const keys = Object.keys(input);\n    const keyed = {};\n    keys.forEach(key => Object.assign(keyed, {\n      [key]: textures[keys.indexOf(key)]\n    }));\n    return keyed;\n  } else {\n    return textures;\n  }\n}\n\nuseTexture.preload = url => useLoader.preload(TextureLoader, url);\n\nuseTexture.clear = input => useLoader.clear(TextureLoader, input);\n\nexport { IsObject, useTexture };\n","import * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { Billboard } from './Billboard.js';\nimport { Plane } from './shapes.js';\nimport { useTexture } from './useTexture.js';\n\nconst CLOUD_URL = 'https://rawcdn.githack.com/pmndrs/drei-assets/9225a9f1fbd449d9411125c2f419b843d0308c9f/cloud.png';\nfunction Cloud({\n  opacity = 0.5,\n  speed = 0.4,\n  width = 10,\n  depth = 1.5,\n  segments = 20,\n  texture = CLOUD_URL,\n  color = '#ffffff',\n  depthTest = true,\n  ...props\n}) {\n  const gl = useThree(state => state.gl);\n  const group = React.useRef();\n  const cloudTexture = useTexture(texture);\n  const clouds = React.useMemo(() => [...new Array(segments)].map((_, index) => ({\n    x: width / 2 - Math.random() * width,\n    y: width / 2 - Math.random() * width,\n    scale: 0.4 + Math.sin((index + 1) / segments * Math.PI) * ((0.2 + Math.random()) * 10),\n    density: Math.max(0.2, Math.random()),\n    rotation: Math.max(0.002, 0.005 * Math.random()) * speed\n  })), [width, segments, speed]);\n  useFrame(state => {\n    var _group$current;\n\n    return (_group$current = group.current) == null ? void 0 : _group$current.children.forEach((cloud, index) => {\n      cloud.children[0].rotation.z += clouds[index].rotation;\n      cloud.children[0].scale.setScalar(clouds[index].scale + (1 + Math.sin(state.clock.getElapsedTime() / 10)) / 2 * index / 10);\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"group\", {\n    position: [0, 0, segments / 2 * depth],\n    ref: group\n  }, clouds.map(({\n    x,\n    y,\n    scale,\n    density\n  }, index) => /*#__PURE__*/React.createElement(Billboard, {\n    key: index,\n    position: [x, y, -index * depth]\n  }, /*#__PURE__*/React.createElement(Plane, {\n    scale: scale,\n    rotation: [0, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshStandardMaterial\", {\n    map: cloudTexture,\n    \"map-encoding\": gl.outputEncoding,\n    transparent: true,\n    opacity: scale / 6 * density * opacity,\n    depthTest: depthTest,\n    color: color\n  }))))));\n}\n\nexport { Cloud };\n","/**\n * Full-screen textured quad shader\n */\nconst CopyShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    opacity: {\n      value: 1.0\n    }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', '\tvUv = uv;', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform float opacity;', 'uniform sampler2D tDiffuse;', 'varying vec2 vUv;', 'void main() {', '\tvec4 texel = texture2D( tDiffuse, vUv );', '\tgl_FragColor = opacity * texel;', '}'].join('\\n')\n};\n\nexport { CopyShader };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { OrthographicCamera, PlaneGeometry, Mesh } from 'three';\n\nclass Pass {\n  constructor() {\n    _defineProperty(this, \"enabled\", true);\n\n    _defineProperty(this, \"needsSwap\", true);\n\n    _defineProperty(this, \"clear\", false);\n\n    _defineProperty(this, \"renderToScreen\", false);\n  }\n\n  setSize(\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n\n  /* eslint-disable no-unused-vars */\n  width, height) {}\n\n  render(\n  /* eslint-disable @typescript-eslint/no-unused-vars */\n\n  /* eslint-disable no-unused-vars */\n  renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    console.error('THREE.Pass: .render() must be implemented in derived pass.');\n  }\n\n} // Helper for passes that need to fill the viewport with a single quad.\n\n\nclass FullScreenQuad {\n  constructor(material) {\n    _defineProperty(this, \"camera\", new OrthographicCamera(-1, 1, 1, -1, 0, 1));\n\n    _defineProperty(this, \"geometry\", new PlaneGeometry(2, 2));\n\n    _defineProperty(this, \"mesh\", void 0);\n\n    this.mesh = new Mesh(this.geometry, material);\n  }\n\n  get material() {\n    return this.mesh.material;\n  }\n\n  set material(value) {\n    this.mesh.material = value;\n  }\n\n  dispose() {\n    this.mesh.geometry.dispose();\n  }\n\n  render(renderer) {\n    renderer.render(this.mesh, this.camera);\n  }\n\n}\n\nexport { FullScreenQuad, Pass };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { ShaderMaterial, UniformsUtils } from 'three';\nimport { Pass, FullScreenQuad } from './Pass.js';\n\nclass ShaderPass extends Pass {\n  constructor(shader, textureID = 'tDiffuse') {\n    super();\n\n    _defineProperty(this, \"textureID\", void 0);\n\n    _defineProperty(this, \"uniforms\", void 0);\n\n    _defineProperty(this, \"material\", void 0);\n\n    _defineProperty(this, \"fsQuad\", void 0);\n\n    this.textureID = textureID;\n\n    if (shader instanceof ShaderMaterial) {\n      this.uniforms = shader.uniforms;\n      this.material = shader;\n    } else {\n      this.uniforms = UniformsUtils.clone(shader.uniforms);\n      this.material = new ShaderMaterial({\n        defines: Object.assign({}, shader.defines),\n        uniforms: this.uniforms,\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader\n      });\n    }\n\n    this.fsQuad = new FullScreenQuad(this.material);\n  }\n\n  render(renderer, writeBuffer, readBuffer) {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture;\n    }\n\n    this.fsQuad.material = this.material;\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(writeBuffer); // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\n      if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n      this.fsQuad.render(renderer);\n    }\n  }\n\n}\n\nexport { ShaderPass };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Pass } from './Pass.js';\n\nclass MaskPass extends Pass {\n  constructor(scene, camera) {\n    super();\n\n    _defineProperty(this, \"scene\", void 0);\n\n    _defineProperty(this, \"camera\", void 0);\n\n    _defineProperty(this, \"inverse\", void 0);\n\n    this.scene = scene;\n    this.camera = camera;\n    this.clear = true;\n    this.needsSwap = false;\n    this.inverse = false;\n  }\n\n  render(renderer, writeBuffer, readBuffer) {\n    const context = renderer.getContext();\n    const state = renderer.state; // don't update color or depth\n\n    state.buffers.color.setMask(false);\n    state.buffers.depth.setMask(false); // lock buffers\n\n    state.buffers.color.setLocked(true);\n    state.buffers.depth.setLocked(true); // set up stencil\n\n    let writeValue, clearValue;\n\n    if (this.inverse) {\n      writeValue = 0;\n      clearValue = 1;\n    } else {\n      writeValue = 1;\n      clearValue = 0;\n    }\n\n    state.buffers.stencil.setTest(true);\n    state.buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\n    state.buffers.stencil.setFunc(context.ALWAYS, writeValue, 0xffffffff);\n    state.buffers.stencil.setClear(clearValue);\n    state.buffers.stencil.setLocked(true); // draw into the stencil buffer\n\n    renderer.setRenderTarget(readBuffer);\n    if (this.clear) renderer.clear();\n    renderer.render(this.scene, this.camera);\n    renderer.setRenderTarget(writeBuffer);\n    if (this.clear) renderer.clear();\n    renderer.render(this.scene, this.camera); // unlock color and depth buffer for subsequent rendering\n\n    state.buffers.color.setLocked(false);\n    state.buffers.depth.setLocked(false); // only render where stencil is set to 1\n\n    state.buffers.stencil.setLocked(false);\n    state.buffers.stencil.setFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n\n    state.buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n    state.buffers.stencil.setLocked(true);\n  }\n\n}\n\nclass ClearMaskPass extends Pass {\n  constructor() {\n    super();\n    this.needsSwap = false;\n  }\n\n  render(renderer) {\n    renderer.state.buffers.stencil.setLocked(false);\n    renderer.state.buffers.stencil.setTest(false);\n  }\n\n}\n\nexport { ClearMaskPass, MaskPass };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Vector2, WebGLRenderTarget, Clock, LinearFilter, RGBAFormat } from 'three';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { ShaderPass } from './ShaderPass.js';\nimport { MaskPass, ClearMaskPass } from './MaskPass.js';\n\nclass EffectComposer {\n  constructor(renderer, renderTarget) {\n    _defineProperty(this, \"renderer\", void 0);\n\n    _defineProperty(this, \"_pixelRatio\", void 0);\n\n    _defineProperty(this, \"_width\", void 0);\n\n    _defineProperty(this, \"_height\", void 0);\n\n    _defineProperty(this, \"renderTarget1\", void 0);\n\n    _defineProperty(this, \"renderTarget2\", void 0);\n\n    _defineProperty(this, \"writeBuffer\", void 0);\n\n    _defineProperty(this, \"readBuffer\", void 0);\n\n    _defineProperty(this, \"renderToScreen\", void 0);\n\n    _defineProperty(this, \"passes\", []);\n\n    _defineProperty(this, \"copyPass\", void 0);\n\n    _defineProperty(this, \"clock\", void 0);\n\n    this.renderer = renderer;\n\n    if (renderTarget === undefined) {\n      const parameters = {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat\n      };\n      const size = renderer.getSize(new Vector2());\n      this._pixelRatio = renderer.getPixelRatio();\n      this._width = size.width;\n      this._height = size.height;\n      renderTarget = new WebGLRenderTarget(this._width * this._pixelRatio, this._height * this._pixelRatio, parameters);\n      renderTarget.texture.name = 'EffectComposer.rt1';\n    } else {\n      this._pixelRatio = 1;\n      this._width = renderTarget.width;\n      this._height = renderTarget.height;\n    }\n\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n    this.renderTarget2.texture.name = 'EffectComposer.rt2';\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n    this.renderToScreen = true; // dependencies\n\n    if (CopyShader === undefined) {\n      console.error('THREE.EffectComposer relies on CopyShader');\n    }\n\n    if (ShaderPass === undefined) {\n      console.error('THREE.EffectComposer relies on ShaderPass');\n    }\n\n    this.copyPass = new ShaderPass(CopyShader);\n    this.clock = new Clock();\n  }\n\n  swapBuffers() {\n    const tmp = this.readBuffer;\n    this.readBuffer = this.writeBuffer;\n    this.writeBuffer = tmp;\n  }\n\n  addPass(pass) {\n    this.passes.push(pass);\n    pass.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio);\n  }\n\n  insertPass(pass, index) {\n    this.passes.splice(index, 0, pass);\n    pass.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio);\n  }\n\n  removePass(pass) {\n    const index = this.passes.indexOf(pass);\n\n    if (index !== -1) {\n      this.passes.splice(index, 1);\n    }\n  }\n\n  isLastEnabledPass(passIndex) {\n    for (let i = passIndex + 1; i < this.passes.length; i++) {\n      if (this.passes[i].enabled) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  render(deltaTime) {\n    // deltaTime value is in seconds\n    if (deltaTime === undefined) {\n      deltaTime = this.clock.getDelta();\n    }\n\n    const currentRenderTarget = this.renderer.getRenderTarget();\n    let maskActive = false;\n    const il = this.passes.length;\n\n    for (let i = 0; i < il; i++) {\n      const pass = this.passes[i];\n      if (pass.enabled === false) continue;\n      pass.renderToScreen = this.renderToScreen && this.isLastEnabledPass(i);\n      pass.render(this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive);\n\n      if (pass.needsSwap) {\n        if (maskActive) {\n          const context = this.renderer.getContext();\n          const stencil = this.renderer.state.buffers.stencil; //context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n          stencil.setFunc(context.NOTEQUAL, 1, 0xffffffff);\n          this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, deltaTime); //context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\n          stencil.setFunc(context.EQUAL, 1, 0xffffffff);\n        }\n\n        this.swapBuffers();\n      }\n\n      if (MaskPass !== undefined) {\n        if (pass instanceof MaskPass) {\n          maskActive = true;\n        } else if (pass instanceof ClearMaskPass) {\n          maskActive = false;\n        }\n      }\n    }\n\n    this.renderer.setRenderTarget(currentRenderTarget);\n  }\n\n  reset(renderTarget) {\n    if (renderTarget === undefined) {\n      const size = this.renderer.getSize(new Vector2());\n      this._pixelRatio = this.renderer.getPixelRatio();\n      this._width = size.width;\n      this._height = size.height;\n      renderTarget = this.renderTarget1.clone();\n      renderTarget.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio);\n    }\n\n    this.renderTarget1.dispose();\n    this.renderTarget2.dispose();\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n  }\n\n  setSize(width, height) {\n    this._width = width;\n    this._height = height;\n    const effectiveWidth = this._width * this._pixelRatio;\n    const effectiveHeight = this._height * this._pixelRatio;\n    this.renderTarget1.setSize(effectiveWidth, effectiveHeight);\n    this.renderTarget2.setSize(effectiveWidth, effectiveHeight);\n\n    for (let i = 0; i < this.passes.length; i++) {\n      this.passes[i].setSize(effectiveWidth, effectiveHeight);\n    }\n  }\n\n  setPixelRatio(pixelRatio) {\n    this._pixelRatio = pixelRatio;\n    this.setSize(this._width, this._height);\n  }\n\n}\n\nexport { EffectComposer };\n","import _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport { Color } from 'three';\nimport { Pass } from './Pass.js';\n\nclass RenderPass extends Pass {\n  constructor(scene, camera, overrideMaterial, clearColor, clearAlpha = 0) {\n    super();\n\n    _defineProperty(this, \"scene\", void 0);\n\n    _defineProperty(this, \"camera\", void 0);\n\n    _defineProperty(this, \"overrideMaterial\", void 0);\n\n    _defineProperty(this, \"clearColor\", void 0);\n\n    _defineProperty(this, \"clearAlpha\", void 0);\n\n    _defineProperty(this, \"clearDepth\", false);\n\n    _defineProperty(this, \"_oldClearColor\", new Color());\n\n    this.scene = scene;\n    this.camera = camera;\n    this.overrideMaterial = overrideMaterial;\n    this.clearColor = clearColor;\n    this.clearAlpha = clearAlpha;\n    this.clear = true;\n    this.needsSwap = false;\n  }\n\n  render(renderer, writeBuffer, readBuffer) {\n    let oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    let oldClearAlpha;\n    let oldOverrideMaterial = null;\n\n    if (this.overrideMaterial !== undefined) {\n      oldOverrideMaterial = this.scene.overrideMaterial;\n      this.scene.overrideMaterial = this.overrideMaterial;\n    }\n\n    if (this.clearColor) {\n      renderer.getClearColor(this._oldClearColor);\n      oldClearAlpha = renderer.getClearAlpha();\n      renderer.setClearColor(this.clearColor, this.clearAlpha);\n    }\n\n    if (this.clearDepth) {\n      renderer.clearDepth();\n    }\n\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer); // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\n    if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n    renderer.render(this.scene, this.camera);\n\n    if (this.clearColor) {\n      renderer.setClearColor(this._oldClearColor, oldClearAlpha);\n    }\n\n    if (this.overrideMaterial !== undefined) {\n      this.scene.overrideMaterial = oldOverrideMaterial;\n    }\n\n    renderer.autoClear = oldAutoClear;\n  }\n\n}\n\nexport { RenderPass };\n","/**\n * Gamma Correction Shader\n * http://en.wikipedia.org/wiki/gamma_correction\n */\nconst GammaCorrectionShader = {\n  uniforms: {\n    tDiffuse: {\n      value: null\n    }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', '\tvUv = uv;', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform sampler2D tDiffuse;', 'varying vec2 vUv;', 'void main() {', '\tvec4 tex = texture2D( tDiffuse, vUv );', '\tgl_FragColor = LinearTosRGB( tex );', '}'].join('\\n')\n};\n\nexport { GammaCorrectionShader };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { WebGLRenderTarget, HalfFloatType, RGBAFormat } from 'three';\nimport { extend, useThree, useFrame } from '@react-three/fiber';\nimport { EffectComposer, RenderPass, ShaderPass, GammaCorrectionShader } from 'three-stdlib';\nimport mergeRefs from 'react-merge-refs';\n\nconst isWebGL2Available = () => {\n  try {\n    var canvas = document.createElement('canvas');\n    return !!(window.WebGL2RenderingContext && canvas.getContext('webgl2'));\n  } catch (e) {\n    return false;\n  }\n};\nconst Effects = /*#__PURE__*/React.forwardRef(({\n  children,\n  multisamping = 8,\n  renderIndex = 1,\n  disableRender,\n  disableGamma,\n  disableRenderPass,\n  depthBuffer = true,\n  stencilBuffer = false,\n  anisotropy = 1,\n  encoding,\n  type,\n  ...props\n}, ref) => {\n  React.useMemo(() => extend({\n    EffectComposer,\n    RenderPass,\n    ShaderPass\n  }), []);\n  const composer = React.useRef();\n  const {\n    scene,\n    camera,\n    gl,\n    size,\n    viewport\n  } = useThree();\n  const [target] = React.useState(() => {\n    const t = new WebGLRenderTarget(size.width, size.height, {\n      type: type || HalfFloatType,\n      format: RGBAFormat,\n      encoding: encoding || gl.outputEncoding,\n      depthBuffer,\n      stencilBuffer,\n      anisotropy\n    });\n    t.samples = multisamping;\n    return t;\n  });\n  React.useEffect(() => {\n    var _composer$current, _composer$current2;\n\n    (_composer$current = composer.current) == null ? void 0 : _composer$current.setSize(size.width, size.height);\n    (_composer$current2 = composer.current) == null ? void 0 : _composer$current2.setPixelRatio(viewport.dpr);\n  }, [gl, size, viewport.dpr]);\n  useFrame(() => {\n    var _composer$current3;\n\n    if (!disableRender) (_composer$current3 = composer.current) == null ? void 0 : _composer$current3.render();\n  }, renderIndex);\n  const passes = [];\n  if (!disableRenderPass) passes.push( /*#__PURE__*/React.createElement(\"renderPass\", {\n    key: \"renderpass\",\n    attach: `passes-${passes.length}`,\n    args: [scene, camera]\n  }));\n  if (!disableGamma) passes.push( /*#__PURE__*/React.createElement(\"shaderPass\", {\n    attach: `passes-${passes.length}`,\n    key: \"gammapass\",\n    args: [GammaCorrectionShader]\n  }));\n  React.Children.forEach(children, el => {\n    el && passes.push( /*#__PURE__*/React.cloneElement(el, {\n      key: passes.length,\n      attach: `passes-${passes.length}`\n    }));\n  });\n  return /*#__PURE__*/React.createElement(\"effectComposer\", _extends({\n    ref: mergeRefs([ref, composer]),\n    args: [gl, target]\n  }, props), passes);\n});\n\nexport { Effects, isWebGL2Available };\n","export default __webpack_public_path__ + \"static/gatsby-icon-6dca591e3658782c0d3e8dfc96c41b6e.png\";","import { Color } from 'three';\n\n/**\n * Luminosity\n * http://en.wikipedia.org/wiki/Luminosity\n */\n\nconst LuminosityHighPassShader = {\n  shaderID: 'luminosityHighPass',\n  uniforms: {\n    tDiffuse: {\n      value: null\n    },\n    luminosityThreshold: {\n      value: 1.0\n    },\n    smoothWidth: {\n      value: 1.0\n    },\n    defaultColor: {\n      value: new Color(0x000000)\n    },\n    defaultOpacity: {\n      value: 0.0\n    }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', '\tvUv = uv;', '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform sampler2D tDiffuse;', 'uniform vec3 defaultColor;', 'uniform float defaultOpacity;', 'uniform float luminosityThreshold;', 'uniform float smoothWidth;', 'varying vec2 vUv;', 'void main() {', '\tvec4 texel = texture2D( tDiffuse, vUv );', '\tvec3 luma = vec3( 0.299, 0.587, 0.114 );', '\tfloat v = dot( texel.xyz, luma );', '\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );', '\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );', '\tgl_FragColor = mix( outputColor, texel, alpha );', '}'].join('\\n')\n};\n\nexport { LuminosityHighPassShader };\n","import { Vector2, Color, WebGLRenderTarget, UniformsUtils, ShaderMaterial, Vector3, AdditiveBlending, MeshBasicMaterial, LinearFilter, RGBAFormat } from 'three';\nimport { FullScreenQuad, Pass } from './Pass.js';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { LuminosityHighPassShader } from '../shaders/LuminosityHighPassShader.js';\n\n/**\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\n * mip map chain of bloom textures and blurs them with different radii. Because\n * of the weighted combination of mips, and because larger blurs are done on\n * higher mips, this effect provides good quality and performance.\n *\n * Reference:\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\n */\n\nvar UnrealBloomPass = function (resolution, strength, radius, threshold) {\n  this.strength = strength !== undefined ? strength : 1;\n  this.radius = radius;\n  this.threshold = threshold;\n  this.resolution = resolution !== undefined ? new Vector2(resolution.x, resolution.y) : new Vector2(256, 256); // create color only once here, reuse it later inside the render function\n\n  this.clearColor = new Color(0, 0, 0); // render targets\n\n  var pars = {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    format: RGBAFormat\n  };\n  this.renderTargetsHorizontal = [];\n  this.renderTargetsVertical = [];\n  this.nMips = 5;\n  var resx = Math.round(this.resolution.x / 2);\n  var resy = Math.round(this.resolution.y / 2);\n  this.renderTargetBright = new WebGLRenderTarget(resx, resy, pars);\n  this.renderTargetBright.texture.name = 'UnrealBloomPass.bright';\n  this.renderTargetBright.texture.generateMipmaps = false;\n\n  for (let i = 0; i < this.nMips; i++) {\n    var renderTargetHorizonal = new WebGLRenderTarget(resx, resy, pars);\n    renderTargetHorizonal.texture.name = 'UnrealBloomPass.h' + i;\n    renderTargetHorizonal.texture.generateMipmaps = false;\n    this.renderTargetsHorizontal.push(renderTargetHorizonal);\n    var renderTargetVertical = new WebGLRenderTarget(resx, resy, pars);\n    renderTargetVertical.texture.name = 'UnrealBloomPass.v' + i;\n    renderTargetVertical.texture.generateMipmaps = false;\n    this.renderTargetsVertical.push(renderTargetVertical);\n    resx = Math.round(resx / 2);\n    resy = Math.round(resy / 2);\n  } // luminosity high pass material\n\n\n  if (LuminosityHighPassShader === undefined) console.error('THREE.UnrealBloomPass relies on LuminosityHighPassShader');\n  var highPassShader = LuminosityHighPassShader;\n  this.highPassUniforms = UniformsUtils.clone(highPassShader.uniforms);\n  this.highPassUniforms['luminosityThreshold'].value = threshold;\n  this.highPassUniforms['smoothWidth'].value = 0.01;\n  this.materialHighPassFilter = new ShaderMaterial({\n    uniforms: this.highPassUniforms,\n    vertexShader: highPassShader.vertexShader,\n    fragmentShader: highPassShader.fragmentShader,\n    defines: {}\n  }); // Gaussian Blur Materials\n\n  this.separableBlurMaterials = [];\n  var kernelSizeArray = [3, 5, 7, 9, 11];\n  var resx = Math.round(this.resolution.x / 2);\n  var resy = Math.round(this.resolution.y / 2);\n\n  for (let i = 0; i < this.nMips; i++) {\n    this.separableBlurMaterials.push(this.getSeperableBlurMaterial(kernelSizeArray[i]));\n    this.separableBlurMaterials[i].uniforms['texSize'].value = new Vector2(resx, resy);\n    resx = Math.round(resx / 2);\n    resy = Math.round(resy / 2);\n  } // Composite material\n\n\n  this.compositeMaterial = this.getCompositeMaterial(this.nMips);\n  this.compositeMaterial.uniforms['blurTexture1'].value = this.renderTargetsVertical[0].texture;\n  this.compositeMaterial.uniforms['blurTexture2'].value = this.renderTargetsVertical[1].texture;\n  this.compositeMaterial.uniforms['blurTexture3'].value = this.renderTargetsVertical[2].texture;\n  this.compositeMaterial.uniforms['blurTexture4'].value = this.renderTargetsVertical[3].texture;\n  this.compositeMaterial.uniforms['blurTexture5'].value = this.renderTargetsVertical[4].texture;\n  this.compositeMaterial.uniforms['bloomStrength'].value = strength;\n  this.compositeMaterial.uniforms['bloomRadius'].value = 0.1;\n  this.compositeMaterial.needsUpdate = true;\n  var bloomFactors = [1.0, 0.8, 0.6, 0.4, 0.2];\n  this.compositeMaterial.uniforms['bloomFactors'].value = bloomFactors;\n  this.bloomTintColors = [new Vector3(1, 1, 1), new Vector3(1, 1, 1), new Vector3(1, 1, 1), new Vector3(1, 1, 1), new Vector3(1, 1, 1)];\n  this.compositeMaterial.uniforms['bloomTintColors'].value = this.bloomTintColors; // copy material\n\n  if (CopyShader === undefined) {\n    console.error('THREE.UnrealBloomPass relies on CopyShader');\n  }\n\n  var copyShader = CopyShader;\n  this.copyUniforms = UniformsUtils.clone(copyShader.uniforms);\n  this.copyUniforms['opacity'].value = 1.0;\n  this.materialCopy = new ShaderMaterial({\n    uniforms: this.copyUniforms,\n    vertexShader: copyShader.vertexShader,\n    fragmentShader: copyShader.fragmentShader,\n    blending: AdditiveBlending,\n    depthTest: false,\n    depthWrite: false,\n    transparent: true\n  });\n  this.enabled = true;\n  this.needsSwap = false;\n  this._oldClearColor = new Color();\n  this.oldClearAlpha = 1;\n  this.basic = new MeshBasicMaterial();\n  this.fsQuad = new FullScreenQuad(null);\n};\n\nUnrealBloomPass.prototype = Object.assign(Object.create(Pass.prototype), {\n  constructor: UnrealBloomPass,\n  dispose: function () {\n    for (let i = 0; i < this.renderTargetsHorizontal.length; i++) {\n      this.renderTargetsHorizontal[i].dispose();\n    }\n\n    for (let i = 0; i < this.renderTargetsVertical.length; i++) {\n      this.renderTargetsVertical[i].dispose();\n    }\n\n    this.renderTargetBright.dispose();\n  },\n  setSize: function (width, height) {\n    var resx = Math.round(width / 2);\n    var resy = Math.round(height / 2);\n    this.renderTargetBright.setSize(resx, resy);\n\n    for (let i = 0; i < this.nMips; i++) {\n      this.renderTargetsHorizontal[i].setSize(resx, resy);\n      this.renderTargetsVertical[i].setSize(resx, resy);\n      this.separableBlurMaterials[i].uniforms['texSize'].value = new Vector2(resx, resy);\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    }\n  },\n  render: function (renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    renderer.getClearColor(this._oldClearColor);\n    this.oldClearAlpha = renderer.getClearAlpha();\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    renderer.setClearColor(this.clearColor, 0);\n    if (maskActive) renderer.state.buffers.stencil.setTest(false); // Render input to screen\n\n    if (this.renderToScreen) {\n      this.fsQuad.material = this.basic;\n      this.basic.map = readBuffer.texture;\n      renderer.setRenderTarget(null);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n    } // 1. Extract Bright Areas\n\n\n    this.highPassUniforms['tDiffuse'].value = readBuffer.texture;\n    this.highPassUniforms['luminosityThreshold'].value = this.threshold;\n    this.fsQuad.material = this.materialHighPassFilter;\n    renderer.setRenderTarget(this.renderTargetBright);\n    renderer.clear();\n    this.fsQuad.render(renderer); // 2. Blur All the mips progressively\n\n    var inputRenderTarget = this.renderTargetBright;\n\n    for (let i = 0; i < this.nMips; i++) {\n      this.fsQuad.material = this.separableBlurMaterials[i];\n      this.separableBlurMaterials[i].uniforms['colorTexture'].value = inputRenderTarget.texture;\n      this.separableBlurMaterials[i].uniforms['direction'].value = UnrealBloomPass.BlurDirectionX;\n      renderer.setRenderTarget(this.renderTargetsHorizontal[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n      this.separableBlurMaterials[i].uniforms['colorTexture'].value = this.renderTargetsHorizontal[i].texture;\n      this.separableBlurMaterials[i].uniforms['direction'].value = UnrealBloomPass.BlurDirectionY;\n      renderer.setRenderTarget(this.renderTargetsVertical[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n      inputRenderTarget = this.renderTargetsVertical[i];\n    } // Composite All the mips\n\n\n    this.fsQuad.material = this.compositeMaterial;\n    this.compositeMaterial.uniforms['bloomStrength'].value = this.strength;\n    this.compositeMaterial.uniforms['bloomRadius'].value = this.radius;\n    this.compositeMaterial.uniforms['bloomTintColors'].value = this.bloomTintColors;\n    renderer.setRenderTarget(this.renderTargetsHorizontal[0]);\n    renderer.clear();\n    this.fsQuad.render(renderer); // Blend it additively over the input texture\n\n    this.fsQuad.material = this.materialCopy;\n    this.copyUniforms['tDiffuse'].value = this.renderTargetsHorizontal[0].texture;\n    if (maskActive) renderer.state.buffers.stencil.setTest(true);\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(readBuffer);\n      this.fsQuad.render(renderer);\n    } // Restore renderer settings\n\n\n    renderer.setClearColor(this._oldClearColor, this.oldClearAlpha);\n    renderer.autoClear = oldAutoClear;\n  },\n  getSeperableBlurMaterial: function (kernelRadius) {\n    return new ShaderMaterial({\n      defines: {\n        KERNEL_RADIUS: kernelRadius,\n        SIGMA: kernelRadius\n      },\n      uniforms: {\n        colorTexture: {\n          value: null\n        },\n        texSize: {\n          value: new Vector2(0.5, 0.5)\n        },\n        direction: {\n          value: new Vector2(0.5, 0.5)\n        }\n      },\n      vertexShader: 'varying vec2 vUv;\\n' + 'void main() {\\n' + '\tvUv = uv;\\n' + '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n' + '}',\n      fragmentShader: '#include <common>' + 'varying vec2 vUv;\\n' + 'uniform sampler2D colorTexture;\\n' + 'uniform vec2 texSize;' + 'uniform vec2 direction;' + '\\n' + 'float gaussianPdf(in float x, in float sigma) {' + '\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;' + '}' + 'void main() {\\n' + '\tvec2 invSize = 1.0 / texSize;' + '\tfloat fSigma = float(SIGMA);' + '\tfloat weightSum = gaussianPdf(0.0, fSigma);' + '\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;' + '\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {' + '\t\tfloat x = float(i);' + '\t\tfloat w = gaussianPdf(x, fSigma);' + '\t\tvec2 uvOffset = direction * invSize * x;' + '\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;' + '\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;' + '\t\tdiffuseSum += (sample1 + sample2) * w;' + '\t\tweightSum += 2.0 * w;' + '\t}' + '\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n' + '}'\n    });\n  },\n  getCompositeMaterial: function (nMips) {\n    return new ShaderMaterial({\n      defines: {\n        NUM_MIPS: nMips\n      },\n      uniforms: {\n        blurTexture1: {\n          value: null\n        },\n        blurTexture2: {\n          value: null\n        },\n        blurTexture3: {\n          value: null\n        },\n        blurTexture4: {\n          value: null\n        },\n        blurTexture5: {\n          value: null\n        },\n        dirtTexture: {\n          value: null\n        },\n        bloomStrength: {\n          value: 1.0\n        },\n        bloomFactors: {\n          value: null\n        },\n        bloomTintColors: {\n          value: null\n        },\n        bloomRadius: {\n          value: 0.0\n        }\n      },\n      vertexShader: 'varying vec2 vUv;\\n' + 'void main() {\\n' + '\tvUv = uv;\\n' + '\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n' + '}',\n      fragmentShader: 'varying vec2 vUv;' + 'uniform sampler2D blurTexture1;' + 'uniform sampler2D blurTexture2;' + 'uniform sampler2D blurTexture3;' + 'uniform sampler2D blurTexture4;' + 'uniform sampler2D blurTexture5;' + 'uniform sampler2D dirtTexture;' + 'uniform float bloomStrength;' + 'uniform float bloomRadius;' + 'uniform float bloomFactors[NUM_MIPS];' + 'uniform vec3 bloomTintColors[NUM_MIPS];' + '' + 'float lerpBloomFactor(const in float factor) { ' + '\tfloat mirrorFactor = 1.2 - factor;' + '\treturn mix(factor, mirrorFactor, bloomRadius);' + '}' + '' + 'void main() {' + '\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + ' + '\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + ' + '\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + ' + '\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + ' + '\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );' + '}'\n    });\n  }\n});\nUnrealBloomPass.BlurDirectionX = new Vector2(1.0, 0.0);\nUnrealBloomPass.BlurDirectionY = new Vector2(0.0, 1.0);\n\nexport { UnrealBloomPass };\n","import React from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { Canvas, useLoader, extend } from \"@react-three/fiber\";\r\nimport { Cloud, Edges, Effects, Sparkles, OrbitControls, OrthographicCamera} from \"@react-three/drei\";\r\nimport logo from \"../images/gatsby-icon.png\";\r\n\r\nimport { UnrealBloomPass } from \"three-stdlib\";\r\nextend({ UnrealBloomPass })\r\n\r\nconst CanvasAnimation = () =>{\r\n    const repeatX = 1;\r\n    const repeatY = 1;\r\n    \r\n    const base = useLoader(THREE.TextureLoader, logo);\r\n    base.wrapS = THREE.RepeatWrapping;\r\n    base.wrapT = THREE.RepeatWrapping;\r\n    base.repeat.set(repeatX, repeatY);\r\n\r\n    return(\r\n        <Canvas shadows gl={{antialias:false}}>\r\n            <color attach=\"background\" args={[\"#202030\"]} />\r\n            <mesh scale={1.5}>\r\n                <boxGeometry/>\r\n                <meshPhysicalMaterial map={base}/>\r\n                <Edges \r\n                    scale={1.1}\r\n                    threshold={2}\r\n                    color=\"#000000\"\r\n                />\r\n            </mesh>\r\n            {/* <directionalLight intensity={1} position={[10, 10, 10]}/> */}\r\n            <OrbitControls autoRotate enableZoom={false}/>\r\n            <OrthographicCamera makeDefault far={500} near={0.1} position={[-10, 2, -10]} zoom={100}/>\r\n            <hemisphereLight intensity={1} color=\"red\" groundColor={\"blue\"}/>\r\n            <Sparkles count={200} scale={[20, 20, 20]} size={1} speed={0.01}/>\r\n            <fog attach={\"fog\"} args={[\"#202030\", 5, 25]}/>\r\n            <Cloud\r\n                opacity={0.1}\r\n                speed={0.1}\r\n                width={30}\r\n                depth={0.1}\r\n                segments={40}\r\n            />\r\n            <Effects disableGamma>\r\n                <unrealBloomPass threshold={1} strength={2.0} radius={0.5} />\r\n            </Effects>\r\n        </Canvas>\r\n    )\r\n}\r\n\r\nexport default CanvasAnimation\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport CanvasAnimation from '../components/ThreeAnimation';\r\nimport AboutMe from '../components/AboutMe';\r\nimport Blog from '../components/Blog';\r\nimport Contact from '../components/Contact';\r\n\r\nconst ThreeJSSandboxPage = () => {\r\n\r\n  const [navSelected, setNavSelected] = useState(null);\r\n    return (\r\n      <main>\r\n        <CanvasAnimation/>\r\n        \r\n        <div className=\"header\">\r\n            <h1>Portfolio</h1>\r\n            <h3>By: Arthur</h3>\r\n        </div>\r\n\r\n        <div className=\"navigation\">\r\n          <button onClick={() => setNavSelected(AboutMe)}>About</button>\r\n          <button onClick={() => setNavSelected(Blog)}>Blog</button>\r\n          <button onClick={() => setNavSelected(Contact)}>Contact</button>\r\n        </div>\r\n\r\n        <div className={`content-holder ${navSelected ? \"show-content\" : \"\"}`}>\r\n          <div className='content-main'>\r\n            <button className='close-btn' onClick={() => setNavSelected(null)}>CLOSE</button>\r\n            {navSelected}\r\n          </div>\r\n        </div>\r\n      </main>\r\n    );\r\n  };\r\n   \r\n  export const Head = () => <title>Gatsby - Portfolio page with Three.js</title>\r\n  export default ThreeJSSandboxPage;\r\n  \r\n\r\n   "],"names":["React","className","Edges","userData","children","geometry","threshold","color","props","ref","parent","current","geom","currentGeom","currentThreshold","raycast","_typeof","obj","Symbol","iterator","constructor","prototype","_toPropertyKey","arg","key","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_defineProperty","value","Object","defineProperty","enumerable","configurable","writable","moduloWrapAround","offset","capacity","OrbitControls","EventDispatcher","object","domElement","super","this","Vector3","Infinity","Math","PI","LEFT","UP","RIGHT","BOTTOM","MOUSE","MIDDLE","ONE","TOUCH","TWO","target0","target","clone","position0","position","zoom0","PerspectiveCamera","zoom","getPolarAngle","spherical","phi","getAzimuthalAngle","theta","setPolarAngle","currentPhi","phiDist","abs","sphericalDelta","scope","update","setAzimuthalAngle","currentTheta","thetaDist","getDistance","distanceTo","listenToKeyEvents","addEventListener","onKeyDown","_domElementKeyEvents","saveState","copy","reset","updateProjectionMatrix","dispatchEvent","changeEvent","state","STATE","NONE","quat","Quaternion","setFromUnitVectors","up","quatInverse","invert","lastPosition","lastQuaternion","twoPI","sub","applyQuaternion","setFromVector3","autoRotate","rotateLeft","autoRotateSpeed","enableDamping","dampingFactor","min","minAzimuthAngle","max","maxAzimuthAngle","isFinite","minPolarAngle","maxPolarAngle","makeSafe","radius","scale","minDistance","maxDistance","addScaledVector","panOffset","add","setFromSpherical","lookAt","multiplyScalar","set","zoomChanged","distanceToSquared","EPS","dot","quaternion","connect","document","console","error","style","touchAction","onContextMenu","onPointerDown","onPointerCancel","onMouseWheel","dispose","_scope$domElement","_scope$domElement2","_scope$domElement3","_scope$domElement4","_scope$domElement5","_scope$domElement6","removeEventListener","ownerDocument","onPointerMove","onPointerUp","type","startEvent","endEvent","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","Spherical","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","pointers","pointerPositions","getZoomScale","pow","zoomSpeed","angle","reverseOrbit","rotateUp","panLeft","v","distance","objectMatrix","setFromMatrixColumn","panUp","screenSpacePanning","crossVectors","pan","deltaX","deltaY","element","isPerspectiveCamera","targetDistance","length","tan","fov","clientHeight","matrix","OrthographicCamera","isOrthographicCamera","right","left","clientWidth","top","bottom","warn","enablePan","dollyOut","dollyScale","minZoom","maxZoom","enableZoom","dollyIn","handleMouseDownRotate","event","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","x","y","handleTouchStartPan","handleTouchStartDolly","dx","dy","sqrt","handleTouchMoveRotate","getSecondPointerPosition","subVectors","rotateSpeed","handleTouchMovePan","panSpeed","handleTouchMoveDolly","enabled","_scope$domElement7","_scope$domElement8","push","addPointer","pointerType","trackPointer","touches","enableRotate","onTouchStart","mouseAction","button","mouseButtons","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","onTouchMove","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","_scope$domElement9","_scope$domElement10","_scope$domElement11","removePointer","releasePointerCapture","pointerId","preventDefault","handleMouseWheel","needsUpdate","code","keys","keyPanSpeed","handleKeyDown","i","splice","pointer","makeDefault","camera","regress","onChange","onStart","onEnd","restProps","invalidate","defaultCamera","gl","events","setEvents","get","performance","explCamera","explDomElement","connected","controls","callback","e","onStartCb","onEndCb","old","envMap","resolution","frames","size","cameraRef","groupRef","fbo","width","height","settings","viewport","_width","dpr","_height","_settings","samples","depth","targetSettings","minFilter","magFilter","encoding","outputEncoding","depthTexture","setSize","useFBO","manual","oldCam","count","oldEnvMap","functional","visible","setRenderTarget","scene","background","render","texture","SparklesImplMaterial","uniforms","vertexShader","fragmentShader","onInit","material","parameters","entries","reduce","acc","name","forEach","assign","shaderMaterial","time","pixelRatio","isFloat32Array","def","Float32Array","isVector","normalizeVector","Array","isArray","toArray","usePropAsIsOrAsAttribute","prop","setDefault","a","from","expandColor","r","g","b","flat","Sparkles","noise","speed","opacity","forwardRef","positions","map","sizes","random","opacities","speeds","noises","colors","clock","elapsedTime","JSON","stringify","attach","args","transparent","depthWrite","Billboard","follow","lockX","lockY","lockZ","localRef","prevRotation","rotation","getWorldQuaternion","z","create","El","Plane","IsObject","url","useTexture","onLoad","textures","TextureLoader","values","useLayoutEffect","useEffect","initTexture","keyed","indexOf","preload","clear","Cloud","segments","depthTest","group","cloudTexture","clouds","_","index","sin","density","_group$current","cloud","setScalar","getElapsedTime","CopyShader","tDiffuse","join","Pass","renderer","writeBuffer","readBuffer","deltaTime","maskActive","FullScreenQuad","PlaneGeometry","mesh","Mesh","ShaderPass","shader","textureID","ShaderMaterial","UniformsUtils","defines","fsQuad","renderToScreen","autoClearColor","autoClearDepth","autoClearStencil","MaskPass","needsSwap","inverse","context","getContext","writeValue","clearValue","buffers","setMask","setLocked","stencil","setTest","setOp","REPLACE","setFunc","ALWAYS","setClear","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget","LinearFilter","format","RGBAFormat","getSize","_pixelRatio","getPixelRatio","WebGLRenderTarget","renderTarget1","renderTarget2","copyPass","Clock","swapBuffers","tmp","addPass","pass","passes","insertPass","removePass","isLastEnabledPass","passIndex","getDelta","currentRenderTarget","getRenderTarget","il","NOTEQUAL","effectiveWidth","effectiveHeight","setPixelRatio","RenderPass","overrideMaterial","clearColor","clearAlpha","Color","oldClearAlpha","oldAutoClear","autoClear","oldOverrideMaterial","getClearColor","_oldClearColor","getClearAlpha","setClearColor","clearDepth","GammaCorrectionShader","Effects","multisamping","renderIndex","disableRender","disableGamma","disableRenderPass","depthBuffer","stencilBuffer","anisotropy","composer","t","HalfFloatType","_composer$current","_composer$current2","_composer$current3","el","LuminosityHighPassShader","shaderID","luminosityThreshold","smoothWidth","defaultColor","defaultOpacity","UnrealBloomPass","strength","pars","renderTargetsHorizontal","renderTargetsVertical","nMips","resx","round","resy","renderTargetBright","generateMipmaps","renderTargetHorizonal","renderTargetVertical","highPassShader","highPassUniforms","materialHighPassFilter","separableBlurMaterials","kernelSizeArray","getSeperableBlurMaterial","compositeMaterial","getCompositeMaterial","bloomTintColors","copyShader","copyUniforms","materialCopy","blending","AdditiveBlending","basic","MeshBasicMaterial","inputRenderTarget","BlurDirectionX","BlurDirectionY","kernelRadius","KERNEL_RADIUS","SIGMA","colorTexture","texSize","direction","NUM_MIPS","blurTexture1","blurTexture2","blurTexture3","blurTexture4","blurTexture5","dirtTexture","bloomStrength","bloomFactors","bloomRadius","extend","base","useLoader","THREE","logo","wrapS","wrapT","repeat","Canvas","shadows","antialias","far","near","intensity","groundColor","Head","navSelected","setNavSelected","useState","CanvasAnimation","onClick","AboutMe","Blog","Contact"],"sourceRoot":""}